<app-card>
  <ng-template #header>
    <div class="flex flex-row items-center justify-between">
      <h2
        class="whitespace-nowrap overflow-hidden text-ellipsis"
        [title]="tvShow().name"
      >
        {{ tvShow().name }}
      </h2>

      <div class="flex flex-row">
        @if (toggleFavoriteAvailable()) {
          <button
            appButton="transparent"
            class="!p-1"
            [appToggleFavoriteTvShow]="tvShow()"
          >
            <app-bookmark-icon></app-bookmark-icon>
          </button>
        }

        @if (toggleWishlistAvailable()) {
          <button
            appButton="transparent"
            class="!p-1"
            [appToggleWishlist]="tvShow()"
          >
            <app-clipboard-document-list-icon></app-clipboard-document-list-icon>
          </button>
        }

        @if (detailsAvailable()) {
          <button appButton="transparent" class="!p-1">
            <app-info-circle-icon></app-info-circle-icon>
          </button>
        }
      </div>
    </div>
  </ng-template>

  <ng-template #body>
    <div class="-m-4">
      <a class="block w-full h-56 overflow-hidden" [routerLink]="detailsLink()">
        <div
          class="size-full bg-cover bg-center hover:scale-125 transition-all"
          [style.background-image]="cssBackgroundImage()"
        ></div>
      </a>
    </div>
  </ng-template>

  @if (tvShowDetails(); as details) {
    <ng-template #footer>
      {{ details | nextEpisodeCountdown }}
    </ng-template>
  }
</app-card>
